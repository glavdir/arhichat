{"version":3,"sources":["webpack:///game.build.js","webpack:///./src/components/characterEdit.vue","webpack:///./src/components/threads.vue","webpack:///src/components/characterEdit.vue","webpack:///src/components/tagsInput.vue","webpack:///src/components/threads.vue","webpack:///./src/components/characterEdit.vue?a15a","webpack:///./src/components/characterEdit.vue?a812","webpack:///./src/components/characterEdit.vue?4ccd","webpack:///./src/components/characterEdit.vue?9872","webpack:///./src/components/tagsInput.vue","webpack:///./src/components/tagsInput.vue?8424","webpack:///./src/components/tagsInput.vue?23eb","webpack:///./src/components/tagsInput.vue?6702","webpack:///./src/components/characterEdit.vue?6ed5","webpack:///./src/components/threads.vue?7a9d"],"names":["webpackJsonp","277","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_characterEdit_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0f90f752_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_characterEdit_vue__","normalizeComponent","__vue_styles__","Component","282","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_threads_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_52bc2a26_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_threads_vue__","283","editDataDefault","id","name","description","author","author_name","tags","__WEBPACK_IMPORTED_MODULE_2_diff_match_patch__","__WEBPACK_IMPORTED_MODULE_3__tagsInput_vue__","n","components","tags-input","data","currentChar","charList","charFilter","tagsFilter","tagPattern","editData","allTags","created","this","$socket","emit","computed","filteredCharacters","tFilter","remove_empty_elements","nameFilter","trim","filterName","length","filterTags","filtered","c","character","toLowerCase","includes","push","suits","tag","methods","stringlist","newList","s","find_characters","filters","setCharacterList","lastCharId","i","selectCharacter","this_app","setCharacterData","JSON","parse","resetEditData","saveChanges","currentCharText","$refs","options","selectedIndex","text","window","confirm","alert","Character","result","deleteCharacter","console","log","sockets","character_list","character_tags","284","__WEBPACK_IMPORTED_MODULE_0_onclick_outside__","__WEBPACK_IMPORTED_MODULE_0_onclick_outside___default","model","prop","event","props","outTags","Array","fullTagList","ClickOutside","a","listVisible","listFilter","focusedItem","tagsFiltered","inputText","t","get","join","set","tags_string","validateString","split","$emit","processArrowKeyDown","setSelectorVisible","search_input","list","firstElementChild","nextElementSibling","focus","processArrowKeyUp","lastElementChild","previousElementSibling","show","focusInput","_this","$nextTick","tags_input","replace","addTagToOut","handleClickOutside","e","292","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","__WEBPACK_IMPORTED_MODULE_1__global__","forums","curForum","forumid","title","isEdit","loadForums","curdomain","withCredentials","then","response","editForum","forum","delForum","canselEditForum","saveForum","flash","timeout","err","error","newForum","293","exports","content","locals","294","295","296","297","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_tagsInput_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7a0b7f55_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_tagsInput_vue__","298","299","300","render","_vm","_h","$createElement","_c","_self","attrs","handler","staticClass","on","keydown","$event","_k","keyCode","key","directives","rawName","expression","ref","type","placeholder","domProps","input","target","composing","_v","click","tabindex","_l","index","_s","_e","staticRenderFns","esExports","301","maxlength","callback","$$v","size","change","$$selectedVal","prototype","filter","call","o","selected","map","_value","multiple","ch","$set","rows","showTagSelector","disabled","321","class","threads_forum","threads_forum_root","isRoot","isMain","thread"],"mappings":"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","file":"game.build.js?f45d59f1892339f38772","sourcesContent":["webpackJsonp([0],{\n\n/***/ 277:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_characterEdit_vue__ = __webpack_require__(283);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0f90f752_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_characterEdit_vue__ = __webpack_require__(301);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(293)\n  __webpack_require__(295)\n}\nvar normalizeComponent = __webpack_require__(6)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f90f752\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_characterEdit_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0f90f752_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_characterEdit_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_threads_vue__ = __webpack_require__(292);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_52bc2a26_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_threads_vue__ = __webpack_require__(321);\nvar normalizeComponent = __webpack_require__(6)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_threads_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_52bc2a26_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_threads_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__global_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_diff_match_patch__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_diff_match_patch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_diff_match_patch__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tagsInput_vue__ = __webpack_require__(297);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nfunction editDataDefault() {\n    return {\n        id: null,\n        name: \"\",\n        description: \"\",\n        author: null,\n        author_name: \"\",\n        tags: []\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {\n        'tags-input': __WEBPACK_IMPORTED_MODULE_3__tagsInput_vue__[\"a\" /* default */]\n    },\n    data: function data() {\n        return {\n            currentChar: \"\",\n            charList: [],\n            charFilter: \"\",\n            tagsFilter: [],\n            tagPattern: \"[\\\\s0-9a-zA-Zа-яА-Я_]+\",\n            editData: editDataDefault(),\n            allTags: []\n        };\n    },\n    created: function created() {\n        var this_app = this;\n        this.$socket.emit('find_characters');\n        this.$socket.emit('get_tags');\n    },\n\n    computed: {\n        filteredCharacters: function filteredCharacters() {\n\n            var tFilter = this.remove_empty_elements(this.tagsFilter);\n            var nameFilter = this.charFilter.trim();\n            var filterName = nameFilter.length > 0;\n            var filterTags = tFilter.length > 0;\n\n            if (!filterName && !filterTags) {\n                return this.charList;\n            }\n\n            var filtered = [];\n            for (var c in this.charList) {\n                var character = this.charList[c];\n                if (filterName && character.name.toLowerCase().includes(nameFilter.toLowerCase())) {\n                    if (!filtered.includes(character)) filtered.push(character);\n                    continue;\n                }\n                if (filterTags) {\n                    var suits = true;\n\n                    for (var tag in tFilter) {\n                        if (!character.tags.includes(tFilter[tag])) {\n                            suits = false;\n                            break;\n                        }\n                    }\n                    if (suits && !filtered.includes(character)) filtered.push(character);\n                }\n            }\n            return filtered;\n        }\n    },\n\n    methods: {\n        remove_empty_elements: function remove_empty_elements(stringlist) {\n            var newList = [];\n            for (var s in stringlist) {\n                if (stringlist[s] != '') newList.push(stringlist[s]);\n            }\n            return newList;\n        },\n        find_characters: function find_characters() {\n            var filters = {\n                name: this.charFilter,\n                tags: this.remove_empty_elements(this.tagsFilter)\n            };\n            this.$socket.emit('find_characters', filters);\n        },\n        setCharacterList: function setCharacterList(data) {\n            var lastCharId = this.currentChar;\n            this.charList = data;\n\n            if (lastCharId) {\n                for (var i in this.charList) {\n                    if (this.charList[i].id == lastCharId) {\n                        this.selectCharacter();\n                        return;\n                    }\n                }\n            }\n        },\n        //            filter_characters: function()\n        //            {\n        //                var filterName = this.charFilter.length > 0\n        //                var filterTags = this.tagsFilter.length > 0\n        //\n        //                if(!filterName && !filterTags) {\n        //                    return this.charList;\n        //                }\n        //\n        //                var filtered = []\n        //                for(var character in this.charList)\n        //                {\n        //                    if(filterName && character.includes(this.charFilter)){\n        //                        filtered.push(character)\n        //                        continue\n        //                    }\n        //                    if(filterTags)\n        //                    {\n        //                        var suits = true\n        //                        for(var tag in this.tagsFilter)\n        //                        {\n        //                            if(!character.tags.includes(tag)){\n        //                                suits = false;\n        //                                break;\n        //                            }\n        //                            if(suits)\n        //                                filtered.push(character)\n        //                        }\n        //                    }\n        //                }\n        //                return filtered;\n        //            },\n        selectCharacter: function selectCharacter() {\n            if (!this.currentChar || this.currentChar.length == 0) {\n                this.editData = editDataDefault();\n            } else {\n                var this_app = this;\n                this.$socket.emit('get_character_info', { id: this.currentChar }, function (data) {\n                    this_app.setCharacterData(JSON.parse(data));\n                });\n            }\n        },\n        setCharacterData: function setCharacterData(data) {\n            this.editData = data;\n        },\n        resetEditData: function resetEditData() {\n            this.editData = editDataDefault();\n            this.currentChar = null;\n        },\n        saveChanges: function saveChanges(data) {\n            if (this.currentChar) {\n                var currentCharText = this.$refs['charSelect'].options[this.$refs['charSelect'].selectedIndex].text;\n                if (!window.confirm('Вы точно хотите изменить персонажа \"' + currentCharText + '\"?')) return;\n            }\n            if (this.editData.name.length == 0 || this.editData.description.length == 0) {\n                alert('Заполните поля \"Имя\" и \"Описание\" для сохранения персонажа');\n                return;\n            }\n            this.editData.tags = this.remove_empty_elements(this.editData.tags);\n            var name = this.editData.name;\n            var this_app = this;\n            this.$socket.emit('save_character', { 'Character': this.editData }, function (result) {\n\n                if (result) {\n                    alert('Персонаж \"' + name + '\" успешно сохранен');\n                    this_app.find_characters();\n                    this_app.setCharacterData(JSON.parse(result));\n                } else alert('Упс! Не получилось создать персонажа \"' + name + '\"');\n            });\n        },\n        deleteCharacter: function deleteCharacter() {\n            if (!this.currentChar) {\n                alert('Такого персонажа не существует. Персонаж не выбран или кто-то его уже удалил пока вы тупили. ' + 'Перезагрузите страницу');\n                return;\n            }\n            var currentCharText = this.$refs['charSelect'].options[this.$refs['charSelect'].selectedIndex].text;\n            console.log(currentCharText);\n            if (window.confirm('Вы точно хотите удалить персонажа \"' + currentCharText + '\"?')) {\n                if (window.confirm('Если потом передумаете придётся восстанавливать вручную. Точно удалять?')) {\n                    var this_app = this;\n                    this.$socket.emit('delete_character', { 'Character': this.currentChar }, function (result) {\n                        console.log(result);\n                        if (result) {\n                            alert('Персонаж \"' + currentCharText + '\" удалён');\n                            this_app.resetEditData();\n                            this_app.find_characters();\n                        } else alert('Упс! Что-то пошло не так. Персонаж \"' + currentCharText + '\" не был удалён');\n                    });\n                }\n            }\n        }\n    },\n    sockets: {\n        character_list: function character_list(data) {\n            this.setCharacterList(JSON.parse(data));\n        },\n        character_tags: function character_tags(data) {\n            this.allTags = JSON.parse(data);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_onclick_outside__ = __webpack_require__(173);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_onclick_outside___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_onclick_outside__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    model: {\n        prop: 'outTags',\n        event: 'input'\n    },\n    props: {\n        outTags: Array,\n        fullTagList: Array\n    },\n    components: {\n        ClickOutside: __WEBPACK_IMPORTED_MODULE_0_onclick_outside___default.a\n    },\n    data: function data() {\n        return {\n            listVisible: false,\n            listFilter: '',\n            focusedItem: null\n        };\n    },\n    computed: {\n        tagsFiltered: function tagsFiltered() {\n            if (this.inputText == 0) {\n                return this.fullTagList;\n            }\n            var tags = [];\n            for (var t in this.fullTagList) {\n\n                if (this.fullTagList[t].includes(this.listFilter)) tags.push(this.fullTagList[t]);\n            }\n            return tags;\n        },\n        inputText: {\n            get: function get() {\n                return this.outTags.join(' ');\n            },\n            set: function set(tags_string) {\n                var tags = this.validateString(tags_string).split(' ');\n                this.$emit('input', tags);\n            }\n        }\n    },\n    methods: {\n        //            sendChangeEvent: function(){\n        //                var tags = this.validateString(this.inputText).split(' ')\n        //                this.$emit('change', tags)\n        //            },\n        processArrowKeyDown: function processArrowKeyDown() {\n            if (!this.listVisible) {\n                this.setSelectorVisible(true);\n                return;\n            }\n            if (this.focusedItem == this.$refs.search_input) {\n                this.focusedItem = this.$refs.list.firstElementChild;\n            } else {\n                this.focusedItem = this.focusedItem.nextElementSibling;\n                if (!this.focusedItem) this.focusedItem = this.$refs.list.firstElementChild;\n            }\n            if (this.focusedItem) this.focusedItem.focus();\n        },\n        processArrowKeyUp: function processArrowKeyUp() {\n            if (!this.listVisible) {\n                this.setSelectorVisible(true);\n                return;\n            }\n            if (this.focusedItem == this.$refs.search_input) {\n                this.focusedItem = this.$refs.list.lastElementChild;\n            } else {\n                this.focusedItem = this.focusedItem.previousElementSibling;\n                if (!this.focusedItem) this.focusedItem = this.$refs.list.lastElementChild;\n            }\n            if (this.focusedItem) this.focusedItem.focus();\n        },\n\n        setSelectorVisible: function setSelectorVisible(show, focusInput) {\n            var _this = this;\n\n            this.listVisible = show;\n            if (!show) {\n                this.listFilter = \"\";\n                if (focusInput) {\n                    this.$refs.tags_input.focus();\n                }\n            } else {\n                this.$nextTick(function () {\n                    _this.$refs.search_input.focus();\n                    _this.focusedItem = _this.$refs.search_input;\n                });\n            }\n        },\n        validateString: function validateString(tags_string) {\n            var str = tags_string.toLowerCase().replace(/\\s+/g, ' ').replace(/[^\\s0-9a-zA-Zа-яА-Я_]+/, '');\n            return str;\n        },\n        addTagToOut: function addTagToOut(tag) {\n            this.setSelectorVisible(false, true);\n            if (!this.outTags.includes(tag)) this.outTags.push(tag);\n        },\n        handleClickOutside: function handleClickOutside(e) {\n            this.setSelectorVisible(false);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__global__ = __webpack_require__(8);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n// import forumEdit from './forum-edit'\n// import Vue from 'vue';\n// import VueCollapse from 'vue2-collapse';\n// Vue.use(VueCollapse);\n\n// import Vue from 'vue'\n// import VTooltip from 'v-tooltip'\n// Vue.use(VTooltip);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: \"threads\",\n    data: function data() {\n        return {\n            forums: '',\n            curForum: { forumid: '', title: '' },\n            isEdit: false\n        };\n    },\n    methods: {\n        loadForums: function loadForums() {\n            var this_app = this;\n            __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(__WEBPACK_IMPORTED_MODULE_1__global__[\"a\" /* default */].curdomain + '/api/forums/', { withCredentials: true }).then(function (response) {\n                this_app.forums = response.data;\n            });\n        },\n        editForum: function editForum(forum) {\n            this.isEdit = true;\n            this.curForum = forum;\n        },\n        delForum: function delForum(forum) {},\n        canselEditForum: function canselEditForum() {\n            this.isEdit = false;\n        },\n        saveForum: function saveForum() {\n            var this_app = this;\n            this.$socket.emit('save_forum', this.curForum, function (result) {\n                if (result && \"forumid\" in result) {\n                    this_app.isEdit = false;\n                    this_app.forums[result.forumid] = result;\n                    this_app.flash('Модуль ' + result.title + ' сохранен', 'success', { timeout: 2000 });\n                } else {\n                    var err = \"error\" in result ? result.error : '';\n                    this_app.flash('ВНИМАНИЕ!<br>Что-то пошло не так и модуль не сохранен<br>' + err, 'error', { timeout: 10000 });\n                }\n            });\n        },\n        newForum: function newForum() {\n            this.editForum({ forumid: 0, title: 'Новый' });\n        }\n    },\n    computed: {},\n    components: {},\n    created: function created() {\n        this.loadForums();\n    }\n});\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(294);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(5)(\"3c6d9f82\", content, true);\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".characterEdit_root[data-v-0f90f752]{padding:.5em}input_field[data-v-0f90f752]{border:1px solid gray;padding:0 .1em}.flex_container[data-v-0f90f752]{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;flex-wrap:wrap}.flex_element[data-v-0f90f752]{flex-grow:2}.full_width[data-v-0f90f752]{width:100%}.space_after[data-v-0f90f752]{padding-right:.5rem}.frame[data-v-0f90f752]{border:1px solid #d3d3d3;border-radius:3px}.thickLine[data-v-0f90f752]{margin:.3em 0}.v_center[data-v-0f90f752]{margin:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(296);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(5)(\"01ca6fc9\", content, true);\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".characterEdit_root input[type=text]{padding:0 .1em}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_tagsInput_vue__ = __webpack_require__(284);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7a0b7f55_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_tagsInput_vue__ = __webpack_require__(300);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(298)\n}\nvar normalizeComponent = __webpack_require__(6)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a0b7f55\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_tagsInput_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7a0b7f55_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_tagsInput_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(299);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(5)(\"6338f311\", content, true);\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tags[data-v-7a0b7f55]{position:relative;display:flex;flex-grow:2;border:1px solid #d3d3d3}.tags_input[data-v-7a0b7f55]{border:none;flex-grow:2}.tags_select_button[data-v-7a0b7f55]{cursor:pointer;border:none;border-left:1px solid #fafafa;background:#f8f8f8;flex-grow:0}.tags_select_button[data-v-7a0b7f55]:hover{background-color:#fff}.tags_list_frame[data-v-7a0b7f55]{position:absolute;overflow:auto;max-height:6rem;top:calc(100% + 2px);background:#fff;border-radius:0;right:0;z-index:100;padding:.2em;border:1px solid gray;box-shadow:3px 3px 5px 0 rgba(0,0,0,.2)}.tags_list_frame ul[data-v-7a0b7f55]{margin:.3em 0}.tags_list_frame li[data-v-7a0b7f55]{padding:0 .3em 0 .2em;cursor:pointer}.tags_list_frame li[data-v-7a0b7f55]:focus,.tags_list_frame li[data-v-7a0b7f55]:hover{background-color:#cfe7f0}.tags_select_search[data-v-7a0b7f55]{border:none;border-bottom:1px solid #d3d3d3}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('click-outside',{attrs:{\"handler\":_vm.handleClickOutside}},[_c('div',{staticClass:\"tags\",on:{\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.setSelectorVisible(false, true)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }_vm.processArrowKeyDown()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38,$event.key)){ return null; }_vm.processArrowKeyUp()}]}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],ref:\"tags_input\",staticClass:\"tags_input\",attrs:{\"type\":\"text\",\"placeholder\":\"Тэги через пробел\"},domProps:{\"value\":(_vm.inputText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputText=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"tags_select_button\",attrs:{\"title\":\"Добавить тэг из списка существующих.\\nОткрывается нажатием ↓ из строки поиска\"},on:{\"click\":function($event){_vm.setSelectorVisible(!_vm.listVisible)}}},[_vm._v(\"+\\n            \")]),_vm._v(\" \"),(_vm.listVisible)?_c('div',{ref:\"tag_list\",staticClass:\"tags_list_frame\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listFilter),expression:\"listFilter\"}],ref:\"search_input\",staticClass:\"tags_select_search\",attrs:{\"type\":\"text\",\"placeholder\":\" Поиск\",\"tabindex\":\"0\"},domProps:{\"value\":(_vm.listFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.listFilter=$event.target.value}}}),_vm._v(\" \"),_c('ul',{ref:\"list\",attrs:{\"tabindex\":\"1\"}},_vm._l((_vm.tagsFiltered),function(tag,index){return _c('li',{staticClass:\"tags_select_li\",attrs:{\"tabindex\":index + 1},on:{\"click\":function($event){_vm.addTagToOut(tag)},\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.addTagToOut(tag)}}},[_vm._v(\"\\n                        \"+_vm._s(tag)+\"\\n                    \")])}))]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"characterEdit_root\"},[_c('fieldset',{staticClass:\"frame\"},[_c('legend',[_vm._v(\"Поиск\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Имя\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.charFilter),expression:\"charFilter\"}],staticClass:\"flex_element input_field v_center\",attrs:{\"type\":\"text\",\"maxlength\":\"64\",\"placeholder\":\"Имя или его начало\"},domProps:{\"value\":(_vm.charFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.charFilter=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Тэги\")]),_vm._v(\" \"),_c('tags-input',{staticClass:\"flex_element v_center\",attrs:{\"fullTagList\":_vm.allTags,\"maxlength\":\"64\",\"placeholder\":\"Тэги через пробел\"},model:{value:(_vm.tagsFilter),callback:function ($$v) {_vm.tagsFilter=$$v},expression:\"tagsFilter\"}})],1),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentChar),expression:\"currentChar\"}],ref:\"charSelect\",staticClass:\"full_width thickLine\",attrs:{\"size\":\"5\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentChar=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.selectCharacter]}},_vm._l((_vm.filteredCharacters),function(ch){return _c('option',{domProps:{\"value\":ch.id}},[_vm._v(_vm._s(ch.name))])}))]),_vm._v(\" \"),_c('fieldset',{staticClass:\"frame\"},[_c('legend',[_vm._v(\"Персонаж\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Имя\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editData.name),expression:\"editData.name\"}],staticClass:\"flex_element input_field\",attrs:{\"type\":\"text\",\"maxlength\":\"64\",\"placeholder\":\"Мне нужно ИМЯ!\"},domProps:{\"value\":(_vm.editData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editData, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('span',{staticClass:\"thickLine v_center\"},[_vm._v(\"Описание\")]),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"flex_container\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editData.description),expression:\"editData.description\"}],staticClass:\"full_width thickLine\",attrs:{\"rows\":\"4\"},domProps:{\"value\":(_vm.editData.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editData, \"description\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\",attrs:{\"id\":\"character_tags_container\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.showTagSelector(false)}}},[_c('span',{staticClass:\" space_after v_center\"},[_vm._v(\"Тэги\")]),_vm._v(\" \"),_c('tags-input',{staticClass:\"flex_element v_center\",attrs:{\"fullTagList\":_vm.allTags,\"maxlength\":\"64\",\"placeholder\":\"Тэги через пробел\"},model:{value:(_vm.editData.tags),callback:function ($$v) {_vm.$set(_vm.editData, \"tags\", $$v)},expression:\"editData.tags\"}})],1),_vm._v(\" \"),(_vm.editData.author)?_c('div',{staticClass:\"thickLine\"},[_c('span',[_vm._v(\"Автор:\")]),_vm._v(\" \"),_c('span',{staticClass:\"display_frame \"},[_vm._v(_vm._s(_vm.editData.author_name))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('button',{attrs:{\"title\":\"Сбросить редактирование\"},on:{\"click\":_vm.resetEditData}},[_vm._v(\"Новый\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_element\"}),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"delete_button\",\"title\":\"Отправить персонажа в варп\",\"disabled\":!_vm.currentChar},on:{\"click\":_vm.deleteCharacter}},[_vm._v(\"Удалить\\n            \")]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"save_button\",\"title\":\"Сохранить\"},on:{\"click\":_vm.saveChanges}},[_vm._v(\"Сохранить\\n            \")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"threads_root\"},[_c('div',{staticClass:\"threads_conteiner\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}]},[_vm._v(\"\\n            \"+_vm._s(_vm.curForum.forumid)+\"\\n            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curForum.title),expression:\"curForum.title\"}],domProps:{\"value\":(_vm.curForum.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.curForum, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.saveForum}},[_vm._v(\"Сохранить\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.canselEditForum}},[_vm._v(\"Отмена\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"threads_forums\"},[_vm._l((_vm.forums),function(forum){return [_c('div',{class:{threads_forum:true, threads_forum_root:forum.isRoot}},[_c('div',{staticClass:\"threads_forum_title\"},[_vm._v(_vm._s(forum.title))]),_vm._v(\" \"),_c('div',{staticClass:\"threads_forum_buttons\"},[(!forum.isMain)?_c('div',[_c('button',{on:{\"click\":function($event){_vm.editForum(forum)}}},[_vm._v(\"Изменить\")])]):_vm._e(),_vm._v(\" \"),(forum.isMain)?_c('div',[_c('button',{on:{\"click\":function($event){_vm.newForum()}}},[_vm._v(\"Новый модуль\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(forum.show),expression:\"forum.show\"}],staticClass:\"threads_threads\"},_vm._l((forum.threads),function(thread){return _c('div',{staticClass:\"threads_thread\"},[_vm._v(_vm._s(thread.title))])}))])]})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// game.build.js?f45d59f1892339f38772","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f90f752\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./characterEdit.vue\")\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f90f752\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./characterEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./characterEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./characterEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f90f752\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./characterEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f90f752\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/characterEdit.vue\n// module id = 277\n// module chunks = 0","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./threads.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./threads.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52bc2a26\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./threads.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/threads.vue\n// module id = 282\n// module chunks = 0","<template>\r\n    <div class=\"characterEdit_root\">\r\n\r\n        <fieldset class=\"frame\">\r\n            <legend>Поиск</legend>\r\n            <div class=\"flex_container thickLine\">\r\n                <span class=\"space_after v_center\">Имя</span><input type=\"text\" maxlength=\"64\" v-model=\"charFilter\"\r\n                                                                    class=\"flex_element input_field v_center\"\r\n                                                                    placeholder=\"Имя или его начало\">\r\n            </div>\r\n            <div class=\"flex_container thickLine\">\r\n                <span class=\"space_after v_center\">Тэги</span>\r\n                <tags-input class=\"flex_element v_center\"\r\n                            :fullTagList=\"allTags\"\r\n                            v-model=\"tagsFilter\"\r\n                            maxlength=\"64\"\r\n                            placeholder=\"Тэги через пробел\"/>\r\n            </div>\r\n            <!--<div class=\"flex_container thickLine\">-->\r\n                <!--<div class=\"flex_element\"></div>-->\r\n                <!--<button @click=\"find_characters\">Найти</button>-->\r\n            <!--</div>-->\r\n            <select ref=\"charSelect\" v-model=\"currentChar\" @change=\"selectCharacter\" size=\"5\"\r\n                    class=\"full_width thickLine\">\r\n                <option v-for=\"ch in filteredCharacters\" v-bind:value=\"ch.id\">{{ ch.name }}</option>\r\n            </select>\r\n        </fieldset>\r\n        <fieldset class=\"frame\">\r\n            <legend>Персонаж</legend>\r\n            <div class=\"flex_container thickLine\">\r\n                <span class=\"space_after v_center\">Имя</span>\r\n                <input type=\"text\" maxlength=\"64\"\r\n                       v-model=\"editData.name\"\r\n                       class=\"flex_element input_field\"\r\n                       placeholder=\"Мне нужно ИМЯ!\">\r\n            </div>\r\n\r\n            <span class=\"thickLine v_center\">Описание</span><br/>\r\n            <div class=\"flex_container\">\r\n                <textarea v-model=\"editData.description\" class=\"full_width thickLine\" rows=\"4\"></textarea>\r\n            </div>\r\n            <div id=\"character_tags_container\" class=\"flex_container thickLine\" @keydown.esc=\"showTagSelector(false)\">\r\n                <span class=\" space_after v_center\">Тэги</span>\r\n                <tags-input class=\"flex_element v_center\"\r\n                            :fullTagList=\"allTags\"\r\n                            v-model=\"editData.tags\"\r\n                            maxlength=\"64\"\r\n                            placeholder=\"Тэги через пробел\"/>\r\n            </div>\r\n            <div v-if=\"editData.author\" class=\"thickLine\">\r\n                <span>Автор:</span>\r\n                <span class=\"display_frame \">{{ editData.author_name }}</span>\r\n            </div>\r\n            <div class=\"flex_container thickLine\">\r\n                <button @click=\"resetEditData\" title=\"Сбросить редактирование\">Новый</button>\r\n                <div class=\"flex_element\"></div>\r\n                <button @click=\"deleteCharacter\" id=\"delete_button\" title=\"Отправить персонажа в варп\"\r\n                        :disabled=\"!currentChar\">Удалить\r\n                </button>\r\n                <button @click=\"saveChanges\" id=\"save_button\" title=\"Сохранить\">Сохранить\r\n                </button>\r\n\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import global from '../global.js';\r\n    import Vue from 'vue';\r\n    import diff_match_patch from 'diff-match-patch'\r\n    import tags_input from './tagsInput.vue'\r\n\r\n    function editDataDefault() {\r\n        return {\r\n            id: null,\r\n            name: \"\",\r\n            description: \"\",\r\n            author: null,\r\n            author_name: \"\",\r\n            tags: []\r\n        };\r\n    }\r\n\r\n    export default {\r\n        components: {\r\n            'tags-input': tags_input\r\n        },\r\n        data() {\r\n            return {\r\n                currentChar: \"\",\r\n                charList: [],\r\n                charFilter: \"\",\r\n                tagsFilter: [],\r\n                tagPattern: \"[\\\\s0-9a-zA-Zа-яА-Я_]+\",\r\n                editData: editDataDefault(),\r\n                allTags: []\r\n            }\r\n        },\r\n        created() {\r\n            var this_app = this;\r\n            this.$socket.emit('find_characters');\r\n            this.$socket.emit('get_tags');\r\n        },\r\n        computed: {\r\n            filteredCharacters: function () {\r\n\r\n                var tFilter = this.remove_empty_elements(this.tagsFilter)\r\n                var nameFilter = this.charFilter.trim()\r\n                var filterName = nameFilter.length > 0\r\n                var filterTags = tFilter.length > 0\r\n\r\n                if (!filterName && !filterTags) {\r\n                    return this.charList;\r\n                }\r\n\r\n                var filtered = []\r\n                for (var c in this.charList) {\r\n                    var character = this.charList[c]\r\n                    if (filterName && character.name.toLowerCase().includes(nameFilter.toLowerCase())) {\r\n                        if(!filtered.includes(character))\r\n                            filtered.push(character)\r\n                        continue\r\n                    }\r\n                    if (filterTags) {\r\n                        var suits = true\r\n\r\n                        for (var tag in tFilter) {\r\n                            if (!character.tags.includes(tFilter[tag])) {\r\n                                suits = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (suits && !filtered.includes(character))\r\n                            filtered.push(character)\r\n                    }\r\n                }\r\n                return filtered;\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            remove_empty_elements: function (stringlist) {\r\n                var newList = []\r\n                for(var s in stringlist){\r\n                    if (stringlist[s] != '')\r\n                        newList.push(stringlist[s])\r\n                }\r\n                return newList\r\n            },\r\n            find_characters: function () {\r\n                var filters = {\r\n                    name: this.charFilter,\r\n                    tags: this.remove_empty_elements(this.tagsFilter)\r\n                }\r\n                this.$socket.emit('find_characters', filters);\r\n            },\r\n            setCharacterList: function (data) {\r\n                var lastCharId = this.currentChar;\r\n                this.charList = data;\r\n\r\n                if (lastCharId) {\r\n                    for (var i in this.charList) {\r\n                        if (this.charList[i].id == lastCharId) {\r\n                            this.selectCharacter();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n//            filter_characters: function()\r\n//            {\r\n//                var filterName = this.charFilter.length > 0\r\n//                var filterTags = this.tagsFilter.length > 0\r\n//\r\n//                if(!filterName && !filterTags) {\r\n//                    return this.charList;\r\n//                }\r\n//\r\n//                var filtered = []\r\n//                for(var character in this.charList)\r\n//                {\r\n//                    if(filterName && character.includes(this.charFilter)){\r\n//                        filtered.push(character)\r\n//                        continue\r\n//                    }\r\n//                    if(filterTags)\r\n//                    {\r\n//                        var suits = true\r\n//                        for(var tag in this.tagsFilter)\r\n//                        {\r\n//                            if(!character.tags.includes(tag)){\r\n//                                suits = false;\r\n//                                break;\r\n//                            }\r\n//                            if(suits)\r\n//                                filtered.push(character)\r\n//                        }\r\n//                    }\r\n//                }\r\n//                return filtered;\r\n//            },\r\n            selectCharacter: function () {\r\n                if (!this.currentChar || this.currentChar.length == 0) {\r\n                    this.editData = editDataDefault()\r\n                }\r\n                else {\r\n                    var this_app = this;\r\n                    this.$socket.emit('get_character_info', {id: this.currentChar},\r\n                        function (data) {\r\n                            this_app.setCharacterData(JSON.parse(data));\r\n                        });\r\n                }\r\n            },\r\n            setCharacterData: function (data) {\r\n                this.editData = data;\r\n            },\r\n            resetEditData: function () {\r\n                this.editData = editDataDefault();\r\n                this.currentChar = null\r\n            },\r\n            saveChanges: function (data) {\r\n                if (this.currentChar) {\r\n                    var currentCharText = this.$refs['charSelect'].options[this.$refs['charSelect'].selectedIndex].text;\r\n                    if (!window.confirm('Вы точно хотите изменить персонажа \"' + currentCharText + '\"?'))\r\n                        return;\r\n                }\r\n                if (this.editData.name.length == 0 || this.editData.description.length == 0) {\r\n                    alert('Заполните поля \"Имя\" и \"Описание\" для сохранения персонажа');\r\n                    return;\r\n                }\r\n                this.editData.tags = this.remove_empty_elements(this.editData.tags)\r\n                var name = this.editData.name\r\n                var this_app = this;\r\n                this.$socket.emit('save_character', {'Character': this.editData}, function (result) {\r\n\r\n                    if (result) {\r\n                        alert('Персонаж \"' + name + '\" успешно сохранен');\r\n                        this_app.find_characters();\r\n                        this_app.setCharacterData(JSON.parse(result));\r\n                    }\r\n                    else\r\n                        alert('Упс! Не получилось создать персонажа \"' + name + '\"');\r\n                })\r\n            },\r\n            deleteCharacter: function () {\r\n                if (!this.currentChar) {\r\n                    alert('Такого персонажа не существует. Персонаж не выбран или кто-то его уже удалил пока вы тупили. ' +\r\n                        'Перезагрузите страницу');\r\n                    return;\r\n                }\r\n                var currentCharText = this.$refs['charSelect'].options[this.$refs['charSelect'].selectedIndex].text;\r\n                console.log(currentCharText)\r\n                if (window.confirm('Вы точно хотите удалить персонажа \"' + currentCharText + '\"?')) {\r\n                    if (window.confirm('Если потом передумаете придётся восстанавливать вручную. Точно удалять?')) {\r\n                        var this_app = this\r\n                        this.$socket.emit('delete_character', {'Character': this.currentChar},\r\n                            function (result) {\r\n                                console.log(result)\r\n                                if (result) {\r\n                                    alert('Персонаж \"' + currentCharText + '\" удалён');\r\n                                    this_app.resetEditData();\r\n                                    this_app.find_characters();\r\n                                }\r\n                                else\r\n                                    alert('Упс! Что-то пошло не так. Персонаж \"' + currentCharText + '\" не был удалён');\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        sockets: {\r\n            character_list(data) {\r\n                this.setCharacterList(JSON.parse(data))\r\n            },\r\n\r\n            character_tags(data) {\r\n                this.allTags = JSON.parse(data)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .characterEdit_root {\r\n        padding: 0.5em;\r\n    }\r\n\r\n    input_field {\r\n        border: 1px solid gray;\r\n        padding: 0 0.1em;\r\n    }\r\n\r\n    .flex_container {\r\n        display: -webkit-flex;\r\n        display: flex;\r\n        -webkit-flex-direction: row;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .flex_element {\r\n        flex-grow: 2;\r\n    }\r\n\r\n    .full_width {\r\n        width: 100%;\r\n    }\r\n\r\n    .space_after {\r\n        padding-right: 0.5rem;\r\n    }\r\n\r\n    .frame {\r\n        border: 1px solid lightgray;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .thickLine {\r\n        margin: 0.3em 0 0.3em 0;\r\n    }\r\n\r\n    .v_center {\r\n        margin: auto;\r\n    }\r\n\r\n</style>\r\n\r\n<style>\r\n    .characterEdit_root input[type=\"text\"] {\r\n        padding: 0 0.1em;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/characterEdit.vue","<script>\r\n    import ClickOutside from 'onclick-outside';\r\n\r\n    export default {\r\n        model: {\r\n            prop: 'outTags',\r\n            event: 'input'\r\n        },\r\n        props: {\r\n            outTags: Array,\r\n            fullTagList: Array\r\n        },\r\n        components: {\r\n            ClickOutside\r\n        },\r\n        data: function () {\r\n            return {\r\n                listVisible: false,\r\n                listFilter: '',\r\n                focusedItem: null\r\n            }\r\n        },\r\n        computed: {\r\n            tagsFiltered: function () {\r\n                if (this.inputText == 0) {\r\n                    return this.fullTagList\r\n                }\r\n                var tags = []\r\n                for (var t in this.fullTagList) {\r\n\r\n                    if (this.fullTagList[t].includes(this.listFilter))\r\n                        tags.push(this.fullTagList[t])\r\n                }\r\n                return tags\r\n            },\r\n            inputText: {\r\n                get: function () {\r\n                    return this.outTags.join(' ')\r\n                },\r\n                set: function (tags_string) {\r\n                    var tags = this.validateString(tags_string).split(' ')\r\n                    this.$emit('input', tags)\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n//            sendChangeEvent: function(){\r\n//                var tags = this.validateString(this.inputText).split(' ')\r\n//                this.$emit('change', tags)\r\n//            },\r\n            processArrowKeyDown() {\r\n                if (!this.listVisible) {\r\n                    this.setSelectorVisible(true)\r\n                    return;\r\n                }\r\n                if (this.focusedItem == this.$refs.search_input) {\r\n                    this.focusedItem = this.$refs.list.firstElementChild\r\n                }\r\n                else {\r\n                    this.focusedItem = this.focusedItem.nextElementSibling\r\n                    if (!this.focusedItem)\r\n                        this.focusedItem = this.$refs.list.firstElementChild\r\n                }\r\n                if (this.focusedItem)\r\n                    this.focusedItem.focus()\r\n            },\r\n            processArrowKeyUp() {\r\n                if (!this.listVisible) {\r\n                    this.setSelectorVisible(true)\r\n                    return;\r\n                }\r\n                if (this.focusedItem == this.$refs.search_input) {\r\n                    this.focusedItem = this.$refs.list.lastElementChild\r\n                }\r\n                else {\r\n                    this.focusedItem = this.focusedItem.previousElementSibling\r\n                    if (!this.focusedItem)\r\n                        this.focusedItem = this.$refs.list.lastElementChild\r\n                }\r\n                if (this.focusedItem)\r\n                    this.focusedItem.focus()\r\n            },\r\n            setSelectorVisible: function (show, focusInput) {\r\n                this.listVisible = show\r\n                if (!show) {\r\n                    this.listFilter = \"\"\r\n                    if (focusInput) {\r\n                        this.$refs.tags_input.focus()\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    this.$nextTick(() => {\r\n                        this.$refs.search_input.focus();\r\n                        this.focusedItem = this.$refs.search_input;\r\n                    })\r\n                }\r\n            },\r\n            validateString: function (tags_string) {\r\n                var str = tags_string.toLowerCase().replace(/\\s+/g, ' ').replace(/[^\\s0-9a-zA-Zа-яА-Я_]+/, '')\r\n                return str\r\n            },\r\n            addTagToOut(tag) {\r\n                this.setSelectorVisible(false, true)\r\n                if (!this.outTags.includes(tag))\r\n                    this.outTags.push(tag)\r\n            },\r\n            handleClickOutside(e) {\r\n                this.setSelectorVisible(false)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <click-outside :handler=\"handleClickOutside\">\r\n        <div @keydown.esc=\"setSelectorVisible(false, true)\" class=\"tags\"\r\n             @keydown.down=\"processArrowKeyDown()\" @keydown.up=\"processArrowKeyUp()\"\r\n       >\r\n            <input type=\"text\" ref=\"tags_input\" placeholder=\"Тэги через пробел\"\r\n                   class=\"tags_input\" v-model=\"inputText\" >\r\n             <!--@change=\"sendChangeEvent\"-->\r\n\r\n            <button @click=\"setSelectorVisible(!listVisible)\" class=\"tags_select_button\"\r\n                    title=\"Добавить тэг из списка существующих.\r\nОткрывается нажатием ↓ из строки поиска\">+\r\n            </button>\r\n\r\n            <div ref=\"tag_list\" class=\"tags_list_frame\" v-if=\"listVisible\">\r\n                <input ref=\"search_input\" type=\"text\" v-model=\"listFilter\" placeholder=\" Поиск\"\r\n                       tabindex=\"0\" class=\"tags_select_search\">\r\n                <ul ref=\"list\" tabindex=\"1\">\r\n                    <li v-for=\"(tag, index) in tagsFiltered\" @click=\"addTagToOut(tag)\"\r\n                        :tabindex=\"index + 1\" class=\"tags_select_li\" @keydown.enter=\"addTagToOut(tag)\">\r\n                        {{ tag }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </click-outside>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n    .tags {\r\n        position: relative;\r\n        display: flex;\r\n        flex-grow: 2;\r\n        border: 1px solid lightgray;\r\n    }\r\n\r\n    .tags_input {\r\n        border: none;\r\n        flex-grow: 2;\r\n    }\r\n\r\n    .tags_select_button {\r\n        cursor: pointer;\r\n        border: none;\r\n        border-left: 1px solid #fafafa;\r\n        background: #f8f8f8;\r\n        flex-grow: 0;\r\n    }\r\n\r\n    .tags_select_button:hover {\r\n        background-color: white;\r\n    }\r\n\r\n    .tags_list_frame {\r\n        position: absolute;\r\n        overflow: auto;\r\n        max-height: 6rem;\r\n        top: calc(100% + 2px);\r\n        background: white;\r\n        border-radius: 0;\r\n        right: 0;\r\n        z-index: 100;\r\n        padding: 0.2em;\r\n        border: 1px solid gray;\r\n        box-shadow: 3px 3px 5px 0 rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    .tags_list_frame ul {\r\n        margin: 0.3em 0;\r\n    }\r\n\r\n    .tags_list_frame li {\r\n        padding: 0 0.3em 0 0.2em;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .tags_list_frame li:hover {\r\n        background-color: #CFE7F0;\r\n    }\r\n\r\n    .tags_list_frame li:focus {\r\n        background-color: #CFE7F0;\r\n    }\r\n\r\n    .tags_select_search {\r\n        border: none;\r\n        border-bottom: 1px solid lightgray;\r\n    }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/tagsInput.vue","<template>\n    <div class=\"threads_root\">\n        <!--<div class=\"threads_header header\">-->\n        <!--</div>-->\n        <div class=\"threads_conteiner\">\n            <div v-show=\"isEdit\">\n                {{curForum.forumid}}\n                <input v-model=\"curForum.title\">\n                <button @click=\"saveForum\">Сохранить</button>\n                <!--<button @click=\"delForum\">Удалить</button>-->\n                <button @click=\"canselEditForum\">Отмена</button>\n            </div>\n            <div v-show=\"!isEdit\" class=\"threads_forums\">\n                <template v-for=\"forum in forums\">\n                    <div :class=\"{threads_forum:true, threads_forum_root:forum.isRoot}\">\n                        <div class=\"threads_forum_title\">{{forum.title}}</div>\n                        <div class=\"threads_forum_buttons\">\n                            <div v-if=\"!forum.isMain\">\n                                <button @click=\"editForum(forum)\">Изменить</button>\n                            </div>\n                            <div v-if=\"forum.isMain\">\n                                <button @click=\"newForum()\">Новый модуль</button>\n                            </div>\n                        </div>\n                        <div v-show=\"forum.show\" class=\"threads_threads\">\n                             <div v-for=\"thread in forum.threads\" class=\"threads_thread\">{{thread.title}}</div>\n                        </div>\n                    </div>\n                </template>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import global from '../global';\n    // import forumEdit from './forum-edit'\n    // import Vue from 'vue';\n    // import VueCollapse from 'vue2-collapse';\n    // Vue.use(VueCollapse);\n\n    // import Vue from 'vue'\n    // import VTooltip from 'v-tooltip'\n    // Vue.use(VTooltip);\n\n    export default {\n        name:\"threads\",\n        data:function(){return{\n            forums:'',\n            curForum:{forumid:'',title:''},\n            isEdit:false\n        }},\n        methods: {\n            loadForums(){\n                let this_app = this;\n                axios.get(global.curdomain+'/api/forums/', {withCredentials:true})\n                    .then(function (response) {\n                        this_app.forums  = response.data;\n                    });\n            },\n            editForum(forum){\n                this.isEdit = true;\n                this.curForum = forum;\n            },\n            delForum(forum){\n\n            },\n            canselEditForum(){\n                this.isEdit = false;\n            },\n            saveForum(){\n                var this_app = this;\n                this.$socket.emit('save_forum',this.curForum,function (result) {\n                    if (result && \"forumid\" in result){\n                        this_app.isEdit = false;\n                        this_app.forums[result.forumid] = result;\n                        this_app.flash('Модуль '+result.title+' сохранен', 'success', {timeout: 2000});\n                    }else{\n                        let err = (\"error\" in result) ? result.error : '';\n                        this_app.flash('ВНИМАНИЕ!<br>Что-то пошло не так и модуль не сохранен<br>'+err, 'error', {timeout: 10000});\n                    }\n                });\n            },\n            newForum(){\n                this.editForum({forumid:0,title:'Новый'})\n            }\n        },\n        computed: {},\n        components: {},\n        created() {\n            this.loadForums();\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/threads.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f90f752\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./characterEdit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3c6d9f82\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0f90f752\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/characterEdit.vue\n// module id = 293\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".characterEdit_root[data-v-0f90f752]{padding:.5em}input_field[data-v-0f90f752]{border:1px solid gray;padding:0 .1em}.flex_container[data-v-0f90f752]{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;flex-wrap:wrap}.flex_element[data-v-0f90f752]{flex-grow:2}.full_width[data-v-0f90f752]{width:100%}.space_after[data-v-0f90f752]{padding-right:.5rem}.frame[data-v-0f90f752]{border:1px solid #d3d3d3;border-radius:3px}.thickLine[data-v-0f90f752]{margin:.3em 0}.v_center[data-v-0f90f752]{margin:auto}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0f90f752\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/characterEdit.vue\n// module id = 294\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f90f752\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./characterEdit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"01ca6fc9\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0f90f752\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=1!./src/components/characterEdit.vue\n// module id = 295\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".characterEdit_root input[type=text]{padding:0 .1em}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0f90f752\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=1!./src/components/characterEdit.vue\n// module id = 296\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a0b7f55\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tagsInput.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagsInput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagsInput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a0b7f55\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tagsInput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a0b7f55\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tagsInput.vue\n// module id = 297\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a0b7f55\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./tagsInput.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6338f311\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7a0b7f55\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/tagsInput.vue\n// module id = 298\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tags[data-v-7a0b7f55]{position:relative;display:flex;flex-grow:2;border:1px solid #d3d3d3}.tags_input[data-v-7a0b7f55]{border:none;flex-grow:2}.tags_select_button[data-v-7a0b7f55]{cursor:pointer;border:none;border-left:1px solid #fafafa;background:#f8f8f8;flex-grow:0}.tags_select_button[data-v-7a0b7f55]:hover{background-color:#fff}.tags_list_frame[data-v-7a0b7f55]{position:absolute;overflow:auto;max-height:6rem;top:calc(100% + 2px);background:#fff;border-radius:0;right:0;z-index:100;padding:.2em;border:1px solid gray;box-shadow:3px 3px 5px 0 rgba(0,0,0,.2)}.tags_list_frame ul[data-v-7a0b7f55]{margin:.3em 0}.tags_list_frame li[data-v-7a0b7f55]{padding:0 .3em 0 .2em;cursor:pointer}.tags_list_frame li[data-v-7a0b7f55]:focus,.tags_list_frame li[data-v-7a0b7f55]:hover{background-color:#cfe7f0}.tags_select_search[data-v-7a0b7f55]{border:none;border-bottom:1px solid #d3d3d3}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7a0b7f55\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/tagsInput.vue\n// module id = 299\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('click-outside',{attrs:{\"handler\":_vm.handleClickOutside}},[_c('div',{staticClass:\"tags\",on:{\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.setSelectorVisible(false, true)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }_vm.processArrowKeyDown()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38,$event.key)){ return null; }_vm.processArrowKeyUp()}]}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],ref:\"tags_input\",staticClass:\"tags_input\",attrs:{\"type\":\"text\",\"placeholder\":\"Тэги через пробел\"},domProps:{\"value\":(_vm.inputText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputText=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"tags_select_button\",attrs:{\"title\":\"Добавить тэг из списка существующих.\\nОткрывается нажатием ↓ из строки поиска\"},on:{\"click\":function($event){_vm.setSelectorVisible(!_vm.listVisible)}}},[_vm._v(\"+\\n            \")]),_vm._v(\" \"),(_vm.listVisible)?_c('div',{ref:\"tag_list\",staticClass:\"tags_list_frame\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listFilter),expression:\"listFilter\"}],ref:\"search_input\",staticClass:\"tags_select_search\",attrs:{\"type\":\"text\",\"placeholder\":\" Поиск\",\"tabindex\":\"0\"},domProps:{\"value\":(_vm.listFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.listFilter=$event.target.value}}}),_vm._v(\" \"),_c('ul',{ref:\"list\",attrs:{\"tabindex\":\"1\"}},_vm._l((_vm.tagsFiltered),function(tag,index){return _c('li',{staticClass:\"tags_select_li\",attrs:{\"tabindex\":index + 1},on:{\"click\":function($event){_vm.addTagToOut(tag)},\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.addTagToOut(tag)}}},[_vm._v(\"\\n                        \"+_vm._s(tag)+\"\\n                    \")])}))]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a0b7f55\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tagsInput.vue\n// module id = 300\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"characterEdit_root\"},[_c('fieldset',{staticClass:\"frame\"},[_c('legend',[_vm._v(\"Поиск\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Имя\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.charFilter),expression:\"charFilter\"}],staticClass:\"flex_element input_field v_center\",attrs:{\"type\":\"text\",\"maxlength\":\"64\",\"placeholder\":\"Имя или его начало\"},domProps:{\"value\":(_vm.charFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.charFilter=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Тэги\")]),_vm._v(\" \"),_c('tags-input',{staticClass:\"flex_element v_center\",attrs:{\"fullTagList\":_vm.allTags,\"maxlength\":\"64\",\"placeholder\":\"Тэги через пробел\"},model:{value:(_vm.tagsFilter),callback:function ($$v) {_vm.tagsFilter=$$v},expression:\"tagsFilter\"}})],1),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentChar),expression:\"currentChar\"}],ref:\"charSelect\",staticClass:\"full_width thickLine\",attrs:{\"size\":\"5\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentChar=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.selectCharacter]}},_vm._l((_vm.filteredCharacters),function(ch){return _c('option',{domProps:{\"value\":ch.id}},[_vm._v(_vm._s(ch.name))])}))]),_vm._v(\" \"),_c('fieldset',{staticClass:\"frame\"},[_c('legend',[_vm._v(\"Персонаж\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('span',{staticClass:\"space_after v_center\"},[_vm._v(\"Имя\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editData.name),expression:\"editData.name\"}],staticClass:\"flex_element input_field\",attrs:{\"type\":\"text\",\"maxlength\":\"64\",\"placeholder\":\"Мне нужно ИМЯ!\"},domProps:{\"value\":(_vm.editData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editData, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('span',{staticClass:\"thickLine v_center\"},[_vm._v(\"Описание\")]),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"flex_container\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editData.description),expression:\"editData.description\"}],staticClass:\"full_width thickLine\",attrs:{\"rows\":\"4\"},domProps:{\"value\":(_vm.editData.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editData, \"description\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\",attrs:{\"id\":\"character_tags_container\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key)){ return null; }_vm.showTagSelector(false)}}},[_c('span',{staticClass:\" space_after v_center\"},[_vm._v(\"Тэги\")]),_vm._v(\" \"),_c('tags-input',{staticClass:\"flex_element v_center\",attrs:{\"fullTagList\":_vm.allTags,\"maxlength\":\"64\",\"placeholder\":\"Тэги через пробел\"},model:{value:(_vm.editData.tags),callback:function ($$v) {_vm.$set(_vm.editData, \"tags\", $$v)},expression:\"editData.tags\"}})],1),_vm._v(\" \"),(_vm.editData.author)?_c('div',{staticClass:\"thickLine\"},[_c('span',[_vm._v(\"Автор:\")]),_vm._v(\" \"),_c('span',{staticClass:\"display_frame \"},[_vm._v(_vm._s(_vm.editData.author_name))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex_container thickLine\"},[_c('button',{attrs:{\"title\":\"Сбросить редактирование\"},on:{\"click\":_vm.resetEditData}},[_vm._v(\"Новый\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex_element\"}),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"delete_button\",\"title\":\"Отправить персонажа в варп\",\"disabled\":!_vm.currentChar},on:{\"click\":_vm.deleteCharacter}},[_vm._v(\"Удалить\\n            \")]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"save_button\",\"title\":\"Сохранить\"},on:{\"click\":_vm.saveChanges}},[_vm._v(\"Сохранить\\n            \")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f90f752\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/characterEdit.vue\n// module id = 301\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"threads_root\"},[_c('div',{staticClass:\"threads_conteiner\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}]},[_vm._v(\"\\n            \"+_vm._s(_vm.curForum.forumid)+\"\\n            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curForum.title),expression:\"curForum.title\"}],domProps:{\"value\":(_vm.curForum.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.curForum, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.saveForum}},[_vm._v(\"Сохранить\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.canselEditForum}},[_vm._v(\"Отмена\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"threads_forums\"},[_vm._l((_vm.forums),function(forum){return [_c('div',{class:{threads_forum:true, threads_forum_root:forum.isRoot}},[_c('div',{staticClass:\"threads_forum_title\"},[_vm._v(_vm._s(forum.title))]),_vm._v(\" \"),_c('div',{staticClass:\"threads_forum_buttons\"},[(!forum.isMain)?_c('div',[_c('button',{on:{\"click\":function($event){_vm.editForum(forum)}}},[_vm._v(\"Изменить\")])]):_vm._e(),_vm._v(\" \"),(forum.isMain)?_c('div',[_c('button',{on:{\"click\":function($event){_vm.newForum()}}},[_vm._v(\"Новый модуль\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(forum.show),expression:\"forum.show\"}],staticClass:\"threads_threads\"},_vm._l((forum.threads),function(thread){return _c('div',{staticClass:\"threads_thread\"},[_vm._v(_vm._s(thread.title))])}))])]})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52bc2a26\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/threads.vue\n// module id = 321\n// module chunks = 0"],"sourceRoot":""}